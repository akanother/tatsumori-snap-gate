import{S as _,r as h,f as c,o as p,a as o,b as s,w as r,t as f,e as l,h as v,d as x,s as g}from"./app-CfBMEBDv.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";const y={data(){return{appName:this.$page.props.config.appName,user:this.$page.props.auth.user}},methods:{initMainMenu(){$(".nav-link").on("click",n=>{const i=$(n.currentTarget),a=i.next(".nav-treeview");if(a.length){n.preventDefault();const d=i.parent();d.hasClass("menu-open")?a.stop(!0,!0).slideUp(300,function(){d.removeClass("menu-open")}):a.stop(!0,!0).slideDown(300,function(){d.addClass("menu-open")})}});const t=window.location.pathname,e=document.querySelectorAll(".nav-item");[].forEach.call(e,n=>{if(n.getAttribute("data-path")===t){n.style.backgroundColor="rgba(255,255,255,.1)";const a=n.closest(".nav-treeview");a&&(a.style.display="block",a.parentElement.classList.add("menu-open"))}});const m=["/order/register/index"],u=document.querySelector("body");m.includes(t)?u.classList.add("sidebar-collapse"):u.classList.remove("sidebar-collapse")},logout(){this.$inertia.post(this.route("logout"),{},{preserveScroll:!0,preserveState:!0})}},computed:{menuPermissions(){const{org_id:t,post_id:e}=this.user;return{orderRegister:[1].includes(t)&&[5,6].includes(e),orderList:[1].includes(t)&&[5,6].includes(e),orderListFactory:[2,7].includes(t)&&[5].includes(e)}}},mounted(){this.initMainMenu()},components:{Link:_}},k={class:"main-sidebar sidebar-dark-primary elevation-4"},w={class:"brand-text text-md"},L={class:"text-md font-weight-bold",style:{"letter-spacing":"0.015rem"}},S={class:"sidebar"},C={class:"user-panel mt-3 pb-3 mb-4 d-flex align-items-center"},N={style:{"padding-top":"7px"}},E={href:"#",class:"d-block text-xs"},M={class:"mt-2"},T={class:"nav nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},A={class:"nav-item","data-path":"/dashboard"},P={class:"nav-item mb-3"},B={class:"nav nav-treeview"},V={key:0,class:"nav-item","data-path":"/order/register/index"},D={key:1,class:"nav-item","data-path":"/order/list/index"},R={key:2,class:"nav-item","data-path":"/order/list/index/factory"},j={class:"nav-item"},q=["action"];function z(t,e,m,u,n,i){const a=h("Link");return p(),c("aside",k,[o(a,{href:t.route("dashboard"),class:"brand-link"},{default:r(()=>[e[1]||(e[1]=s("img",{src:"/images/logo.svg",alt:"Logo",class:"brand-image elevation-3",style:{"border-radius":"10%","background-color":"#EBECEC",padding:"6px","margin-top":"5px","margin-right":"0.7rem"}},null,-1)),s("div",w,[s("div",L,f(n.appName),1),e[0]||(e[0]=s("div",{style:{opacity:".8","font-size":"11px"}},"受注管理システム",-1))])]),_:1,__:[1]},8,["href"]),s("div",S,[s("div",C,[e[3]||(e[3]=s("div",{class:"image"},[s("img",{src:"/images/auth.svg",alt:"Logo",class:"brand-image elevation-3",style:{"border-radius":"10%","background-color":"#EBECEC",padding:"6px","margin-top":"5px","margin-right":"0.7rem",opacity:".85"}})],-1)),s("div",N,[s("a",E,[l(f(n.user.name)+" ",1),e[2]||(e[2]=s("span",{style:{opacity:".8"}},"さん",-1))])])]),s("nav",M,[l(f(n.user.org_id)+" ",1),s("ul",T,[e[10]||(e[10]=s("li",{class:"nav-header"},[s("div",{class:"d-flex align-items-center justify-content-between"},[s("div",null,"メイン"),s("div",{class:"text-xs",style:{opacity:"0.3"}},"―― Main")])],-1)),s("li",A,[o(a,{href:t.route("dashboard"),class:"nav-link"},{default:r(()=>e[4]||(e[4]=[s("i",{class:"nav-icon fa fa-gauge"},null,-1),s("p",null,"ダッシュボード",-1)])),_:1,__:[4]},8,["href"])]),s("li",P,[e[8]||(e[8]=s("a",{href:"#",class:"nav-link"},[s("i",{class:"nav-icon fa fa-rectangle-list"}),s("p",null,[l("受注管理"),s("i",{class:"fas fa-angle-left right"})])],-1)),s("ul",B,[i.menuPermissions.orderRegister?(p(),c("li",V,[o(a,{href:t.route("order.register.index"),class:"nav-link"},{default:r(()=>e[5]||(e[5]=[s("i",{class:"far fa-circle nav-icon"},null,-1),s("p",null,"受注情報登録",-1)])),_:1,__:[5]},8,["href"])])):v("",!0),i.menuPermissions.orderList?(p(),c("li",D,[o(a,{href:t.route("order.list.index"),class:"nav-link"},{default:r(()=>e[6]||(e[6]=[s("i",{class:"far fa-circle nav-icon"},null,-1),s("p",null,"受注一覧",-1)])),_:1,__:[6]},8,["href"])])):v("",!0),i.menuPermissions.orderListFactory?(p(),c("li",R,[o(a,{href:t.route("order.list.index.factory"),class:"nav-link"},{default:r(()=>e[7]||(e[7]=[s("i",{class:"far fa-circle nav-icon"},null,-1),s("p",null,"受注一覧（工場）",-1)])),_:1,__:[7]},8,["href"])])):v("",!0)])]),e[11]||(e[11]=s("li",{class:"nav-header"},[s("div",{class:"d-flex align-items-center justify-content-between"},[s("div",null,"その他"),s("div",{class:"text-xs",style:{opacity:"0.3"}},"―― Others")])],-1)),s("li",j,[o(a,{href:"#",class:"nav-link",onClick:x(i.logout,["prevent"])},{default:r(()=>e[9]||(e[9]=[s("i",{class:"nav-icon fa fa-arrow-right-from-bracket"},null,-1),s("p",null,"ログアウト",-1)])),_:1,__:[9]},8,["onClick"]),s("form",{id:"logout-form",method:"post",action:t.route("logout"),class:"d-none"}," @csrf ",8,q)])])])]),e[12]||(e[12]=s("div",{class:"position-absolute text-muted text-xs",style:{left:"18px",bottom:"8px"}}," System version 1.0.0 ",-1))])}const F=b(y,[["render",z]]),G={data(){return{appName:this.$page.props.config.appName,user:this.$page.props.auth.user}},components:{Link:_,MainSidebar:F}},K={class:"wrapper"},O={class:"main-header navbar navbar-expand navbar-white navbar-light"},U={class:"navbar-nav"},H={class:"nav-item d-flex align-items-center"},I={class:"navbar-nav ml-auto"},Y={class:"nav-item"},J={class:"content-wrapper px-3 py-4"},Q={class:"content-header"},W={class:"container-fluid"},X={class:"d-flex align-items-center mb-4",style:{gap:"15px"}},Z={class:"font-weight-bold pl-2 pr-4 py-0",style:{"font-size":"1.5rem","border-right":"1px solid #ddd"}},ss={class:"text-sm pl-2",style:{opacity:".8"}},es={class:"content"},ts={class:"container-fluid"};function as(t,e,m,u,n,i){const a=h("Link"),d=h("MainSidebar");return p(),c("div",null,[s("div",K,[s("nav",O,[s("ul",U,[e[1]||(e[1]=s("li",{class:"nav-item"},[s("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[s("i",{class:"fas fa-bars"})])],-1)),s("li",H,[o(a,{href:t.route("dashboard"),class:"nav-link text-sm",style:{"padding-top":"9px"}},{default:r(()=>e[0]||(e[0]=[l("ダッシュボード")])),_:1,__:[0]},8,["href"])])]),s("ul",I,[s("li",Y,[o(a,{href:t.route("logout"),method:"post",class:"btn btn-dark btn-xs mr-1",style:{padding:"5px 12px !important"}},{default:r(()=>e[2]||(e[2]=[l("ログアウト")])),_:1,__:[2]},8,["href"])])])]),o(d,{appName:n.appName},null,8,["appName"]),s("div",J,[s("div",Q,[s("div",W,[s("div",X,[s("div",Z,[g(t.$slots,"page-title")]),s("div",ss,[g(t.$slots,"breadcrumb")])])])]),s("section",es,[s("div",ts,[g(t.$slots,"default")])])]),e[3]||(e[3]=s("footer",{class:"main-footer text-xs",style:{"max-height":"10px"}},[s("strong",null,"© Tatsumori inc."),l(" All rights reserved. "),s("div",{class:"float-right d-none d-sm-inline-block"},[l(" TATSUMORI SYSTEM-G "),s("i",{class:"fa fa-users mx-2"}),l(" by TKKLNCGH ")])],-1)),e[4]||(e[4]=s("aside",{class:"control-sidebar control-sidebar-dark"},null,-1))])])}const os=b(G,[["render",as]]);export{os as A};
