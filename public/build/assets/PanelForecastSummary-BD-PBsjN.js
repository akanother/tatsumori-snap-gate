import{g as k,f as l,o as a,b as e,t as n,h as x,F as d,k as u,e as m,n as b}from"./app-CfBMEBDv.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={data(){const s=new Date;return{year:s.getFullYear(),month:s.getMonth()+1,orders:{},perPage:2,currentPage:1}},mounted(){this.getOrderMonthlySummary()},computed:{paginatedOrders(){const s=Object.entries(this.orders),t=(this.currentPage-1)*this.perPage;return s.slice(t,t+this.perPage)},totalPages(){const s=Object.keys(this.orders).length||1;return Math.ceil(s/this.perPage)},currentPageRowCount(){let s=0;for(const[,t]of this.paginatedOrders)for(const g of Object.values(t))s+=Object.keys(g||{}).length;return s}},methods:{getOrderMonthlySummary(){const s=route("get.forecast.month.summary");axios.get(s).then(t=>{this.orders=t.data||{}}).catch(t=>console.error("データ取得エラー:",t))}},components:{Head:k}},C={class:"card h-100 d-flex flex-column"},w={class:"card-header"},y={class:"card-title"},j={class:"card-body d-flex flex-column"},F={class:"mb-2"},M={class:"table table-bordered table-striped mb-0"},S={key:0,class:"alert alert-light mb-0 flex-grow-1 d-flex align-items-center justify-content-center text-center"},B={class:"card-footer clearfix"},R={class:"pagination pagination-sm m-0 float-right"},V=["disabled"],D={class:"page-item disabled"},N={class:"page-link"},z=["disabled"];function E(s,t,g,H,r,o){return a(),l("div",C,[e("div",w,[e("h3",y,n(r.year)+"年"+n(r.month)+"月の内示状況（四半期）",1)]),e("div",j,[e("div",F,[e("table",M,[t[2]||(t[2]=e("thead",null,[e("tr",null,[e("th",null,"予定年月"),e("th",null,"得意先"),e("th",null,"製品"),e("th",null,"数量")])],-1)),e("tbody",null,[(a(!0),l(d,null,u(o.paginatedOrders,([c,_],f)=>(a(),l(d,{key:c+"-"+f},[(a(!0),l(d,null,u(_,(p,i)=>(a(),l(d,{key:c+"-"+i},[(a(!0),l(d,null,u(p,(P,h)=>(a(),l("tr",{key:c+"-"+i+"-"+h},[e("td",null,n(c),1),e("td",null,n(i),1),e("td",null,n(h),1),e("td",null,n(P),1)]))),128))],64))),128))],64))),128))])])]),o.currentPageRowCount<5?(a(),l("div",S,[m(" このページの件数は "+n(o.currentPageRowCount)+" 件です（5件未満）",1),t[3]||(t[3]=e("br",null,null,-1)),t[4]||(t[4]=m("受注登録漏れや入力状況をご確認ください。 "))])):x("",!0)]),e("div",B,[e("ul",R,[e("li",{class:b(["page-item",{disabled:r.currentPage===1}])},[e("button",{class:"page-link",onClick:t[0]||(t[0]=c=>r.currentPage--),disabled:r.currentPage===1},"«",8,V)],2),e("li",D,[e("span",N,n(r.currentPage)+" / "+n(o.totalPages),1)]),e("li",{class:b(["page-item",{disabled:r.currentPage>=o.totalPages}])},[e("button",{class:"page-link",onClick:t[1]||(t[1]=c=>r.currentPage++),disabled:r.currentPage>=o.totalPages},"»",8,z)],2)])])])}const Y=v(O,[["render",E]]);export{Y as default};
