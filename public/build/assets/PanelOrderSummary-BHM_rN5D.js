import{g as b,f as a,o,b as e,t as n,h as p,F as i,k as u,e as g,n as h}from"./app-CfBMEBDv.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const f={data(){const r=new Date;return{year:r.getFullYear(),month:r.getMonth()+1,orders:[],perPage:2,currentPage:1}},mounted(){this.getOrderMonthlySummary()},computed:{paginatedOrders(){const r=Object.entries(this.orders),t=(this.currentPage-1)*this.perPage;return r.slice(t,t+this.perPage)},totalPages(){return Math.ceil(Object.keys(this.orders).length/this.perPage)},currentPageRowCount(){let r=0;for(const[,t]of this.paginatedOrders)r+=Object.keys(t).length;return r}},methods:{getOrderMonthlySummary(){const r=route("get.order.month.summary");axios.get(r).then(t=>{this.orders=t.data}).catch(t=>console.error("データ取得エラー:",t))}},components:{Head:b}},y={class:"card h-100 d-flex flex-column"},x={class:"card-header"},k={class:"card-title"},O={class:"card-body d-flex flex-column"},v={class:"mb-2"},C={class:"table table-bordered table-striped mb-0"},w={key:0,class:"alert alert-light text-center flex-grow-1 d-flex align-items-center justify-content-center mb-0"},j={class:"card-footer clearfix"},M={class:"pagination pagination-sm m-0 float-right"},S=["disabled"],B={class:"page-item disabled"},F={class:"page-link"},R=["disabled"];function V(r,t,D,N,s,l){return o(),a("div",y,[e("div",x,[e("h3",k,n(s.year)+"年"+n(s.month)+"月の受注状況",1)]),e("div",O,[e("div",v,[e("table",C,[t[2]||(t[2]=e("thead",null,[e("tr",null,[e("th",null,"得意先"),e("th",null,"受注製品"),e("th",null,"受注総数量（KG）")])],-1)),e("tbody",null,[(o(!0),a(i,null,u(l.paginatedOrders,([d,m],z)=>(o(),a(i,{key:d+"-group"},[(o(!0),a(i,null,u(m,(_,c)=>(o(),a("tr",{key:d+"-"+c},[e("td",null,n(d),1),e("td",null,n(c),1),e("td",null,n(_),1)]))),128))],64))),128))])])]),l.currentPageRowCount<5?(o(),a("div",w,[g(" このページの件数は "+n(l.currentPageRowCount)+" 件です（5件未満）",1),t[3]||(t[3]=e("br",null,null,-1)),t[4]||(t[4]=g("受注登録漏れがないかご確認ください。 "))])):p("",!0)]),e("div",j,[e("ul",M,[e("li",{class:h(["page-item",{disabled:s.currentPage===1}])},[e("button",{class:"page-link",onClick:t[0]||(t[0]=d=>s.currentPage--),disabled:s.currentPage===1},"«",8,S)],2),e("li",B,[e("span",F,n(s.currentPage)+" / "+n(l.totalPages),1)]),e("li",{class:h(["page-item",{disabled:s.currentPage>=l.totalPages}])},[e("button",{class:"page-link",onClick:t[1]||(t[1]=d=>s.currentPage++),disabled:s.currentPage>=l.totalPages},"»",8,R)],2)])])])}const H=P(f,[["render",V]]);export{H as default};
